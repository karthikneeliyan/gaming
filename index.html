<div style="display:none">
    <p>Image to use:</p>
    <img id="scream" width="20" height="27" src="https://www.html5canvastutorials.com/demos/assets/yoda.jpg" alt="The Scream">
    <img id="scream1" width="20" height="27" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ1yRqVN0H4fO83_c0lyuvfDDzNiShMx5E-4l2gw0O81cJx_87z"
        alt="The Scream">
</div>
<canvas id="grid"></canvas>
</br>
<div>
    <select id="player">
        <option value="player1">player1</option>
        <option value="player2">player2</option>
    </select>

</div>



<script>
    var key, pos = 0;
    var img;
    var img1;
    var player1countr = 0;
    var player2counter = 0;
    window.onload = function () {
        var c = document.getElementById("grid");
        var ctx = c.getContext("2d");
        img = document.getElementById("scream");
        img1 = document.getElementById("scream1");
        ctx.drawImage(img, 0, 0, 40, 40);
        ctx.drawImage(img, 360, 0, 40, 40);
        ctx.drawImage(img1, 0, 360, 40, 40);
        ctx.drawImage(img1, 360, 360, 40, 40);

        var i = 0;
        var vals = [-40, 40, 0];

        while (i < 200) {
            var from = Math.floor(Math.random() * vals.length);
            var to = Math.floor(Math.random() * vals.length);
            console.log(from, to);
            move(vals[from], vals[to], i);

            i++;
        }
        console.log("%j", obj)
        // myGamePiece = new component(35, 35, "red", 0, 0);
        // myGamePiece = new component(35, 35, "red", 360, 0);

        // myGamePiece = new component(35, 35, "blue", 0, 360);
        // myGamePiece = new component(35, 35, "blue", 360, 360);
    }
    document.onkeydown = function (e) {
        pos = 1;
        key = window.event ? e.keyCode : e.which;
    }
    document.onkeyup = function () {
        // console.log(x,y);
        if (pos == 0) return;
        if (key == 37) x -= 40;
        if (key == 38) y -= 40;
        if (key == 39) x += 40;
        if (key == 40) y += 40;
        // canvas.width=canvas.width;
        ctx.drawImage(img, x, y, 40, 40);
        ctx.drawImage(img1, x, y, 40, 40);
    }



    var myGamePiece;
    var canvas = document.getElementById("grid");
    var ctx = canvas.getContext('2d');
    var obj = {};

    var drawGrid = function (w, h, id) {

        ctx.canvas.width = w;
        ctx.canvas.height = h;


        for (x = 0; x <= w; x += 40) {
            for (y = 0; y <= h; y += 40) {
                if (x < 400 && y < 400) {
                    let x_co = x / 40;
                    let y_co = y / 40;
                    let str = "(" + x_co + "," + y_co + ")";
                    obj[str] = {};
                    obj[str]["player"] = "";
                }

                ctx.moveTo(x, 0);
                ctx.lineTo(x, h);
                ctx.stroke();
                ctx.moveTo(0, y);
                ctx.lineTo(w, y);
                ctx.stroke();
            }
        }
        x = 360;
        y = 360;
        //console.log("%j",obj)
    };


    drawGrid(400, 400, "grid");

    function component(width, height, color, x, y) {

        this.width = width;
        this.height = height;
        this.x = x;
        this.y = y;
        // ctx = myGameArea.context;
        ctx.fillStyle = color;
        ctx.fillRect(this.x, this.y, this.width, this.height);





    }

    function printBoardInfo(x, y, playerinfo) {
        let x_co = x / 40;
        let y_co = y / 40;
        let str = "(" + x_co + "," + y_co + ")";
        obj[str]["player"] = playerinfo
        // console.log(obj[str]["player"]);
        // console.log(obj)

        let boardarray = [];
        Object.keys(obj).forEach(ob => {
            boardarray.push(obj[ob]["player"] == "0" ? "0" : "1");
        })
        //console.log(boardarray);
    }
    //move("(0,9)",[0,8])


    function move(from, to, index) {
        // printBoardInfo(x,y,color);
        //console.log(x,y);
        var player1_y = [0, 0, 0, 0, 0, 0, 0, 0, 0,
            1, 1, 1, 1, 1, 1, 1, 1, 1,
            2, 2, 2, 2, 2, 2, 2, 2, 2,
            3, 3, 3, 3, 3, 3, 3, 3, 3,
            4, 4, 4, 4, 4, 4, 4, 4, 4,
            5, 5, 5, 5, 5, 5, 5, 5, 5,
            6, 6, 6, 6, 6, 6, 6, 6, 6,
            7, 7, 7, 7, 7, 7, 7, 7, 7,
            8, 8, 8, 8, 8, 8, 8, 8, 8,
            9, 9, 9, 9, 9, 9, 9, 9, 9
        ];
        var player1_x = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
        ];
        var player2_x = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
        ];
        var player2_y = [9, 9, 9, 9, 9, 9, 9, 9, 9,8, 8, 8, 8, 8, 8, 8, 8, 8, 7, 7, 7, 7, 7, 7, 7, 7, 7, 6, 6, 6, 6, 6,
            6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4,
            4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,
            0, 0, 0, 0, 0
        ];


        let x_co;
        let y_co;

        if (index % 2 == 0) {
            x_co = player1_x[player1countr];
            y_co = player1_y[player1countr];
            ctx.drawImage(img1, player1_x[player1countr] * 40, player1_y[player1countr] * 40, 40, 40);
            player1countr++;
        } else {
            x_co = player2_x[player2counter];
            y_co = player2_y[player2counter];
            ctx.drawImage(img, player2_x[player2counter] * 40, player2_y[player2counter] * 40, 40, 40);
            player2counter++;
        }


        let str = "(" + y_co + "," + x_co + ")";
        obj[str] = {};
        obj[str]["player"] = index % 2;

    }
</script>
